\input{Soal/21 random 10 functional equation}

\begin{solusi}
    Define function $g(x)=f(x)-f(0)$ for all $x \in \RR$. Thus $g(0)=f(0)-f(0)=0$. Then
    \begin{align}
        (x+y)(f(x)-f(y))&=f(x^2)-f(y^2) \nonumber\\
        (x+y)[(f(x)-f(0))-(f(y)-f(0))]&=(f(x^2)-f(0))-(f(y^2)-f(0)) \nonumber\\
        (x+y)(g(x)-g(y)) &= g(x^2)-g(y^2). \label{eq:eq21-1}
    \end{align}
    Let $P(x,y)$ be the assertion of \eqref{eq:eq21-1}. Hence $P(x,0)$ will produces
    \begin{align}
        x(g(x)-g(0)) &= g(x^2)-g(0)\nonumber\\
        xg(x) &= g(x^2). \label{eq:eq21-2}
    \end{align}
    Thus by \eqref{eq:eq21-2} we have
    \begin{align}
        (-x)g(-x) = g(x^2) = xg(x) \nonumber\\
        x(g(x)+g(-x)) = 0 \nonumber\\
        g(x) = -g(-x). \label{eq:eq21-3}
    \end{align}
    Now, $P(x+1,-1)$ and the help of \eqref{eq:eq21-2} and \eqref{eq:eq21-3} will produces
    \begin{align*}
        (x+1-1)[g(x+1)-g(-1)] &= g((x+1)^2)-g((-1)^2)\\
        x[g(x+1)+g(1)] &= (x+1)g(x+1)-g(1)\\
        xg(x+1)+xg(1) &= xg(x+1) + g(x+1) - g(1)\\
        g(x+1) &= (x+1)g(1)\\
        g(x) &= xg(1)
    \end{align*}
    Thus, if $a=g(1)$ and $b=f(0)$ then
    \begin{align*}
        f(x) = g(x)+f(0) = xf(1) + f(0) = ax+b
    \end{align*}
    for $a,b \in \RR$. Check the function, it satisfy.
\end{solusi}